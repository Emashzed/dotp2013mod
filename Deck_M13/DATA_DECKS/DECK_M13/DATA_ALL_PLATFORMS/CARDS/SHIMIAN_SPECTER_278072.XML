<?xml version='1.0'?>
<CARD_V2>
  <FILENAME text="SHIMIAN_SPECTER_278072" />
  <CARDNAME text="SHIMIAN_SPECTER" />
  <TITLE>
    <LOCALISED_TEXT LanguageCode="en-US"><![CDATA[Shimian Specter]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="de-DE"><![CDATA[Shimian Specter]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="es-ES"><![CDATA[Shimian Specter]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="fr-FR"><![CDATA[Shimian Specter]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="it-IT"><![CDATA[Shimian Specter]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="jp-JA"><![CDATA[Shimian Specter]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="ko-KR"><![CDATA[Shimian Specter]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="ru-RU"><![CDATA[Shimian Specter]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="pt-BR"><![CDATA[Shimian Specter]]></LOCALISED_TEXT>
  </TITLE>
  <MULTIVERSEID value="278072" />
  <ARTID value="278072" />
  <ARTIST name="Anthony S. Waters" />
  <CASTING_COST cost="{2}{B}{B}" />
  <TYPE metaname="Creature" />
  <SUB_TYPE metaname="Specter" />
  <EXPANSION value="DPG" />
  <RARITY metaname="R" />
  <POWER value="2" />
  <TOUGHNESS value="2" />
  <STATIC_ABILITY>
    <LOCALISED_TEXT LanguageCode="en-US"><![CDATA[Flying]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="fr-FR"><![CDATA[Vol]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="es-ES"><![CDATA[Vuela]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="de-DE"><![CDATA[Fliegend]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="it-IT"><![CDATA[Volare]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="jp-JA"><![CDATA[飛行]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="ko-KR"><![CDATA[비행]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="ru-RU"><![CDATA[Полет]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="pt-BR"><![CDATA[Voar]]></LOCALISED_TEXT>
    <CONTINUOUS_ACTION>
    local characteristics = Object():GetCurrentCharacteristics()
    characteristics:Characteristic_Set( CHARACTERISTIC_FLYING, 1 )
    </CONTINUOUS_ACTION>
  </STATIC_ABILITY>
  <TRIGGERED_ABILITY dangerous="1" filter_zone="ZONE_IN_PLAY">
    <LOCALISED_TEXT LanguageCode="en-US"><![CDATA[Whenever Shimian Specter deals combat damage to a player, that player reveals his or her hand. You choose a nonland card from it. Search that player’s graveyard, hand, and library for all cards with the same name as that card and exile them. Then that player shuffles his or her library.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="de-DE"><![CDATA[Whenever Shimian Specter deals combat damage to a player, that player reveals his or her hand. You choose a nonland card from it. Search that player’s graveyard, hand, and library for all cards with the same name as that card and exile them. Then that player shuffles his or her library.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="es-ES"><![CDATA[Whenever Shimian Specter deals combat damage to a player, that player reveals his or her hand. You choose a nonland card from it. Search that player’s graveyard, hand, and library for all cards with the same name as that card and exile them. Then that player shuffles his or her library.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="fr-FR"><![CDATA[Whenever Shimian Specter deals combat damage to a player, that player reveals his or her hand. You choose a nonland card from it. Search that player’s graveyard, hand, and library for all cards with the same name as that card and exile them. Then that player shuffles his or her library.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="it-IT"><![CDATA[Whenever Shimian Specter deals combat damage to a player, that player reveals his or her hand. You choose a nonland card from it. Search that player’s graveyard, hand, and library for all cards with the same name as that card and exile them. Then that player shuffles his or her library.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="jp-JA"><![CDATA[Whenever Shimian Specter deals combat damage to a player, that player reveals his or her hand. You choose a nonland card from it. Search that player’s graveyard, hand, and library for all cards with the same name as that card and exile them. Then that player shuffles his or her library.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="ko-KR"><![CDATA[Whenever Shimian Specter deals combat damage to a player, that player reveals his or her hand. You choose a nonland card from it. Search that player’s graveyard, hand, and library for all cards with the same name as that card and exile them. Then that player shuffles his or her library.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="ru-RU"><![CDATA[Whenever Shimian Specter deals combat damage to a player, that player reveals his or her hand. You choose a nonland card from it. Search that player’s graveyard, hand, and library for all cards with the same name as that card and exile them. Then that player shuffles his or her library.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="pt-BR"><![CDATA[Whenever Shimian Specter deals combat damage to a player, that player reveals his or her hand. You choose a nonland card from it. Search that player’s graveyard, hand, and library for all cards with the same name as that card and exile them. Then that player shuffles his or her library.]]></LOCALISED_TEXT>
	<TRIGGER value="CREATURE_DEALS_COMBAT_DAMAGE_TO_PLAYER" simple_qualifier="self" />
	<RESOLUTION_TIME_ACTION>
    local victim = TriggerPlayer()
	if victim ~= nil then
		victim:RevealHand()
		EffectDC():Set_PlayerPtr(1, victim)
	end
	</RESOLUTION_TIME_ACTION>
	<RESOLUTION_TIME_ACTION>
	local player = EffectController()
    local victim = EffectDC():Get_PlayerPtr(1)
    local filter = Object():GetFilter()    
    if victim ~= nil then    
    	filter:Clear()    
    	filter:SetPlayer( victim )    
    	filter:SetZone( ZONE_HAND ) 
		filter:AddExtra( FILTER_EXTRA_FLIP_CARD_TYPES )
		filter:AddCardType( CARD_TYPE_LAND )
    	filter:SetHint( HINT_ENEMY, player )    
    	filter:NotTargetted()      
    	player:SetTargetCount( 1 )    
    	player:ChooseTarget( NO_VALIDATION, "CARD_QUERY_CHOOSE_CARD_TO_LOBOTOMY", EffectDC():Make_Targets(0))    
    end
    </RESOLUTION_TIME_ACTION>
	<RESOLUTION_TIME_ACTION>
	local total = 0
	local player = EffectController()
    local victim = EffectDC():Get_PlayerPtr(1)
    local target_card = EffectDC():Get_Targets(0):Get_CardPtr(0)
	local filter = Object():GetFilter()
	
	if victim ~= nil then
		if target_card ~= nil then
			filter:Clear()
			filter:NotTargetted()
			filter:SetPlayer( victim )
			filter:SetZone( ZONE_GRAVEYARD )
			filter:AddCardName( target_card:GetCardName() )
			total = filter:Count()
		
			if total &gt; 0 then
				player:SetTargetCount( total )
				for i=0,total-1 do
					player:SetTargetPrompt( i, "CARD_QUERY_CHOOSE_CARDS_TO_EXILE_GRAVE" )
				end
				
				player:ChooseTargets( NO_VALIDATION, EffectDC():Make_Targets(2) ) 
			end
		end
	end
	</RESOLUTION_TIME_ACTION>	
	<RESOLUTION_TIME_ACTION>
	local total = 0
	local player = EffectController()
    local victim = EffectDC():Get_PlayerPtr(1)
    local target_card = EffectDC():Get_Targets(0):Get_CardPtr(0)
	local filter = Object():GetFilter()
	
	if victim ~= nil then
		if target_card ~= nil then
			filter:Clear()
			filter:NotTargetted()
			filter:SetPlayer( victim )
			filter:SetZone( ZONE_HAND )
			filter:AddCardName( target_card:GetCardName() )
			total = filter:Count()
		
			if total &gt; 0 then
				player:SetTargetCount( total )
				for i=0,total-1 do
					player:SetTargetPrompt( i, "CARD_QUERY_CHOOSE_CARDS_TO_EXILE_HAND" )
				end
				
				player:ChooseTargets( NO_VALIDATION, EffectDC():Make_Targets(3) ) 
			end
		end
	end
	</RESOLUTION_TIME_ACTION>	
	<RESOLUTION_TIME_ACTION>
	local total = 0
	local player = EffectController()
    local victim = EffectDC():Get_PlayerPtr(1)
    local target_card = EffectDC():Get_Targets(0):Get_CardPtr(0)
	local filter = Object():GetFilter()
	
	if victim ~= nil then
		if target_card ~= nil then
			filter:Clear()
			filter:NotTargetted()
			filter:SetPlayer( victim )
			filter:SetZone( ZONE_LIBRARY )
			filter:AddCardName( target_card:GetCardName() )
			total = filter:Count()
		
			if total &gt; 0 then
				player:SetTargetCount( total )
				for i=0,total-1 do
					player:SetTargetPrompt( i, "CARD_QUERY_CHOOSE_CARDS_TO_EXILE_LIB" )
				end
				
				player:ChooseTargets( NO_VALIDATION, EffectDC():Make_Targets(4) ) 
			end
		end
	end
	</RESOLUTION_TIME_ACTION>
	<RESOLUTION_TIME_ACTION>
	local target_DC = EffectDC():Get_Targets(2)
    local target_card = EffectDC():Get_Targets(2):Get_CardPtr(0)
    local i = 1
    if target_DC ~= nil then
    	while (target_card ~= nil) do
    		target_card:RemoveFromGame()
    		target_card = EffectDC():Get_Targets(2):Get_CardPtr(i)
    		i=i+1
    	end
    end
	</RESOLUTION_TIME_ACTION>
	<RESOLUTION_TIME_ACTION>
	local target_DC = EffectDC():Get_Targets(3)
    local target_card = EffectDC():Get_Targets(3):Get_CardPtr(0)
    local i = 1
    if target_DC ~= nil then
    	while (target_card ~= nil) do
    		target_card:RemoveFromGame()
    		target_card = EffectDC():Get_Targets(3):Get_CardPtr(i)
    		i=i+1
    	end
    end
	</RESOLUTION_TIME_ACTION>
	<RESOLUTION_TIME_ACTION>
	local target_DC = EffectDC():Get_Targets(4)
    local target_card = EffectDC():Get_Targets(4):Get_CardPtr(0)
    local i = 1
    if target_DC ~= nil then
    	while (target_card ~= nil) do
    		target_card:RemoveFromGame()
    		target_card = EffectDC():Get_Targets(4):Get_CardPtr(i)
    		i=i+1
    	end
    end
	</RESOLUTION_TIME_ACTION>		
	<RESOLUTION_TIME_ACTION>
    local victim = EffectDC():Get_PlayerPtr(1)
	local target_card = EffectDC():Get_Targets(0):Get_CardPtr(0)
    if victim ~= nil then
		if target_card ~= nil then
			victim:ShuffleLibrary()
		end
    end
    </RESOLUTION_TIME_ACTION>
  </TRIGGERED_ABILITY>
  <AI_BASE_SCORE score="750" zone="ZONE_IN_PLAY" />
  <HELP title="MORE_INFO_BADGE_TITLE_10" body="MORE_INFO_BADGE_BODY_10" zone="ZONE_ANY" />
  <SFX text="COMBAT_BLADE_LARGE_ATTACK" power_boundary_min="4" power_boundary_max="-1" />
  <SFX text="COMBAT_BLADE_SMALL_ATTACK" power_boundary_min="1" power_boundary_max="3" />
</CARD_V2>
