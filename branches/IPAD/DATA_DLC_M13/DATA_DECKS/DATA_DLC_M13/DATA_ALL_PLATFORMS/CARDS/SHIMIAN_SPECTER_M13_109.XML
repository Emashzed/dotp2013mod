<?xml version='1.0'?>
<CARD_V2>
  <FILENAME text="SHIMIAN_SPECTER_M13_109" />
  <CARDNAME text="SHIMIAN_SPECTER" />
  <TITLE>
    <LOCALISED_TEXT LanguageCode="en-US"><![CDATA[Shimian Specter]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="it-IT"><![CDATA[Spettro Shimiano]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="de-DE"><![CDATA[Shimianisches Gespenst]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="fr-FR"><![CDATA[Spectre de Shimia]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="es-ES"><![CDATA[Espectro shimiano]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="jp-JA"><![CDATA[シミアの死霊]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="ko-KR"><![CDATA[시미안 스펙터]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="ru-RU"><![CDATA[Шимийский Призрак]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="pt-BR"><![CDATA[Espectro Shimiano]]></LOCALISED_TEXT>
  </TITLE>
  <MULTIVERSEID value="M13_109" />
  <ARTID value="M13_109" />
  <ARTIST name="Anthony S. Waters" />
  <CASTING_COST cost="{2}{B}{B}" />
  <TYPE metaname="Creature" />
  <SUB_TYPE metaname="Specter" />
  <EXPANSION value="M13" />
  <RARITY metaname="R" />
  <POWER value="2" />
  <TOUGHNESS value="2" />
  <STATIC_ABILITY>
    <LOCALISED_TEXT LanguageCode="en-US"><![CDATA[Flying]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="fr-FR"><![CDATA[Vol]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="es-ES"><![CDATA[Vuela]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="de-DE"><![CDATA[Fliegend]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="it-IT"><![CDATA[Volare]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="jp-JA"><![CDATA[飛行]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="ko-KR"><![CDATA[비행]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="ru-RU"><![CDATA[Полет]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="pt-BR"><![CDATA[Voar]]></LOCALISED_TEXT>
    <CONTINUOUS_ACTION>
    local characteristics = Object():GetCurrentCharacteristics()
    characteristics:Characteristic_Set( CHARACTERISTIC_FLYING, 1 )
    </CONTINUOUS_ACTION>
  </STATIC_ABILITY>
  <TRIGGERED_ABILITY dangerous="1" filter_zone="ZONE_IN_PLAY">
    <LOCALISED_TEXT LanguageCode="en-US"><![CDATA[Whenever Shimian Specter deals combat damage to a player, that player reveals his or her hand. You choose a nonland card from it. Search that player’s graveyard, hand, and library for all cards with the same name as that card and exile them. Then that player shuffles his or her library.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="it-IT"><![CDATA[Ogniqualvolta lo Spettro Shimiano infligge danno da combattimento a un giocatore, quel giocatore rivela la sua mano. Scegli una carta non terra da quella mano. Passa in rassegna il cimitero, la mano e il grimorio di quel giocatore per tutte le carte con lo stesso nome di quella carta ed esiliale. Poi quel giocatore rimescola il suo grimorio.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="de-DE"><![CDATA[Immer wenn das Shimianische Gespenst einem Spieler Kampfschaden zufügt, zeigt dieser Spieler die Karten auf seiner Hand offen vor. Bestimme davon eine Karte, die kein Land ist. Durchsuche den Friedhof, die Hand und die Bibliothek dieses Spielers nach Karten mit demselben Namen wie diese Karte und schicke sie alle ins Exil. Dieser Spieler mischt dann seine Bibliothek.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="fr-FR"><![CDATA[À chaque fois que le Spectre de Shimia inflige des blessures de combat à un joueur, ce joueur révèle sa main. Choisissez-y une carte non-terrain. Cherchez dans le cimetière, la main et la bibliothèque de ce joueur toutes les cartes ayant le même nom que cette carte et exilez-les. Ce joueur mélange ensuite sa bibliothèque.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="es-ES"><![CDATA[Siempre que el Espectro shimiano haga daño de combate a un jugador, ese jugador muestra su mano. Eliges de ahí una carta que no sea tierra. Busca en el cementerio, mano y biblioteca de ese jugador todas las cartas con el mismo nombre que esa carta y exílialas. Luego ese jugador baraja su biblioteca.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="jp-JA"><![CDATA[シミアの死霊がいずれかのプレイヤーに戦闘ダメージを与えるたび、そのプレイヤーは自分の手札を公開する。あなたはその中の土地でないカードを１枚選ぶ。そのプレイヤーの墓地と手札とライブラリーから、そのカードと同じ名前を持つカードをすべて探し、それらを追放する。その後、そのプレイヤーは自分のライブラリーを切り直す。]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="ko-KR"><![CDATA[시미안 스펙터가 플레이어에게 전투피해를 입힐 때마다, 그 플레이어는 자신의 손을 공개한다. 그 중 대지가 아닌 카드 한 장을 선택한다. 그 플레이어의 무덤과 손, 서고에서 선택한 카드와 같은 이름을 가진 카드를 모두 찾아서 추방한다. 그러고 나서 그 플레이어는 자신의 서고를 섞는다.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="ru-RU"><![CDATA[Каждый раз, когда Шимийский Призрак наносит боевые повреждения игроку, тот игрок показывает свою руку. Вы выбираете из нее карту, не являющуюся землей. Найдите на кладбище, в руке и в библиотеке того игрока все карты с таким же именем, что и у той карты, и изгоните их. Затем тот игрок тасует свою библиотеку.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="pt-BR"><![CDATA[Toda vez que o Espectro Shimiano causa dano de combate a um jogador, aquele jogador revela sua própria mão. Você escolhe um card que não seja um terreno da mão dele. Procure na mão, no cemitério e no grimório daquele jogador todo os cards com o mesmo nome daquele card e exile-os. Depois, aquele jogador embaralha seu próprio grimório.]]></LOCALISED_TEXT>
	<TRIGGER value="CREATURE_DEALS_COMBAT_DAMAGE_TO_PLAYER" simple_qualifier="self" />
	<RESOLUTION_TIME_ACTION>
    local victim = TriggerPlayer()
	if victim ~= nil then
		victim:RevealHand()
		EffectDC():Set_PlayerPtr(1, victim)
	end
	</RESOLUTION_TIME_ACTION>
	<RESOLUTION_TIME_ACTION>
	local player = EffectController()
    local victim = EffectDC():Get_PlayerPtr(1)
    local filter = Object():GetFilter()    
    if victim ~= nil then    
    	filter:Clear()    
    	filter:SetPlayer( victim )    
    	filter:SetZone( ZONE_HAND ) 
		filter:AddExtra( FILTER_EXTRA_FLIP_CARD_TYPES )
		filter:AddCardType( CARD_TYPE_LAND )
    	filter:SetHint( HINT_ENEMY, player )    
    	filter:NotTargetted()      
    	player:SetTargetCount( 1 )    
    	player:ChooseTarget( NO_VALIDATION, "CARD_QUERY_CHOOSE_CARD_TO_LOBOTOMY", EffectDC():Make_Targets(0))    
    end
    </RESOLUTION_TIME_ACTION>
	<RESOLUTION_TIME_ACTION>
	local total = 0
	local player = EffectController()
    local victim = EffectDC():Get_PlayerPtr(1)
    local target_card = EffectDC():Get_Targets(0):Get_CardPtr(0)
	local filter = Object():GetFilter()
	
	if victim ~= nil then
		if target_card ~= nil then
			filter:Clear()
			filter:NotTargetted()
			filter:SetPlayer( victim )
			filter:SetZone( ZONE_GRAVEYARD )
			filter:AddCardName( target_card:GetCardName() )
			total = filter:Count()
		
			if total &gt; 0 then
				player:SetTargetCount( total )
				for i=0,total-1 do
					player:SetTargetPrompt( i, "CARD_QUERY_CHOOSE_CARDS_TO_EXILE_GRAVE" )
				end
				
				player:ChooseTargets( NO_VALIDATION, EffectDC():Make_Targets(2) ) 
			end
		end
	end
	</RESOLUTION_TIME_ACTION>	
	<RESOLUTION_TIME_ACTION>
	local total = 0
	local player = EffectController()
    local victim = EffectDC():Get_PlayerPtr(1)
    local target_card = EffectDC():Get_Targets(0):Get_CardPtr(0)
	local filter = Object():GetFilter()
	
	if victim ~= nil then
		if target_card ~= nil then
			filter:Clear()
			filter:NotTargetted()
			filter:SetPlayer( victim )
			filter:SetZone( ZONE_HAND )
			filter:AddCardName( target_card:GetCardName() )
			total = filter:Count()
		
			if total &gt; 0 then
				player:SetTargetCount( total )
				for i=0,total-1 do
					player:SetTargetPrompt( i, "CARD_QUERY_CHOOSE_CARDS_TO_EXILE_HAND" )
				end
				
				player:ChooseTargets( NO_VALIDATION, EffectDC():Make_Targets(3) ) 
			end
		end
	end
	</RESOLUTION_TIME_ACTION>	
	<RESOLUTION_TIME_ACTION>
	local total = 0
	local player = EffectController()
    local victim = EffectDC():Get_PlayerPtr(1)
    local target_card = EffectDC():Get_Targets(0):Get_CardPtr(0)
	local filter = Object():GetFilter()
	
	if victim ~= nil then
		if target_card ~= nil then
			filter:Clear()
			filter:NotTargetted()
			filter:SetPlayer( victim )
			filter:SetZone( ZONE_LIBRARY )
			filter:AddCardName( target_card:GetCardName() )
			total = filter:Count()
		
			if total &gt; 0 then
				player:SetTargetCount( total )
				for i=0,total-1 do
					player:SetTargetPrompt( i, "CARD_QUERY_CHOOSE_CARDS_TO_EXILE_LIB" )
				end
				
				player:ChooseTargets( NO_VALIDATION, EffectDC():Make_Targets(4) ) 
			end
		end
	end
	</RESOLUTION_TIME_ACTION>
	<RESOLUTION_TIME_ACTION>
	local target_DC = EffectDC():Get_Targets(2)
    local target_card = EffectDC():Get_Targets(2):Get_CardPtr(0)
    local i = 1
    if target_DC ~= nil then
    	while (target_card ~= nil) do
    		target_card:RemoveFromGame()
    		target_card = EffectDC():Get_Targets(2):Get_CardPtr(i)
    		i=i+1
    	end
    end
	</RESOLUTION_TIME_ACTION>
	<RESOLUTION_TIME_ACTION>
	local target_DC = EffectDC():Get_Targets(3)
    local target_card = EffectDC():Get_Targets(3):Get_CardPtr(0)
    local i = 1
    if target_DC ~= nil then
    	while (target_card ~= nil) do
    		target_card:RemoveFromGame()
    		target_card = EffectDC():Get_Targets(3):Get_CardPtr(i)
    		i=i+1
    	end
    end
	</RESOLUTION_TIME_ACTION>
	<RESOLUTION_TIME_ACTION>
	local target_DC = EffectDC():Get_Targets(4)
    local target_card = EffectDC():Get_Targets(4):Get_CardPtr(0)
    local i = 1
    if target_DC ~= nil then
    	while (target_card ~= nil) do
    		target_card:RemoveFromGame()
    		target_card = EffectDC():Get_Targets(4):Get_CardPtr(i)
    		i=i+1
    	end
    end
	</RESOLUTION_TIME_ACTION>		
	<RESOLUTION_TIME_ACTION>
    local victim = EffectDC():Get_PlayerPtr(1)
	local target_card = EffectDC():Get_Targets(0):Get_CardPtr(0)
    if victim ~= nil then
		if target_card ~= nil then
			victim:ShuffleLibrary()
		end
    end
    </RESOLUTION_TIME_ACTION>
  </TRIGGERED_ABILITY>
  <AI_BASE_SCORE score="750" zone="ZONE_IN_PLAY" />
  <HELP title="MORE_INFO_BADGE_TITLE_10" body="MORE_INFO_BADGE_BODY_10" zone="ZONE_ANY" />
  <SFX text="COMBAT_BLADE_LARGE_ATTACK" power_boundary_min="4" power_boundary_max="-1" />
  <SFX text="COMBAT_BLADE_SMALL_ATTACK" power_boundary_min="1" power_boundary_max="3" />
</CARD_V2>
