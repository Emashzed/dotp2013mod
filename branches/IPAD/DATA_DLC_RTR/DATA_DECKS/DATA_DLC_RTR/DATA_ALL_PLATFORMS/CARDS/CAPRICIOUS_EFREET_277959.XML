<?xml version='1.0'?>
<CARD_V2>
  <FILENAME text="CAPRICIOUS_EFREET_277959" />
  <CARDNAME text="CAPRICIOUS_EFREET" />
  <TITLE>
    <LOCALISED_TEXT LanguageCode="en-US"><![CDATA[Capricious Efreet]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="fr-FR"><![CDATA[Éfrit capricieux]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="es-ES"><![CDATA[Efrit caprichoso]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="de-DE"><![CDATA[Kapriziöser Ifrit]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="it-IT"><![CDATA[Efreet Capriccioso]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="jp-JA"><![CDATA[気まぐれイフリート]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="ko-KR"><![CDATA[변덕스러운 이프리트]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="ru-RU"><![CDATA[Капризный Ифрит]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="pt-BR"><![CDATA[Efrite Caprichoso]]></LOCALISED_TEXT>
  </TITLE>
  <MULTIVERSEID value="277959" />
  <ARTID value="121581" />
  <ARTIST name="Justin Sweet" />
  <CASTING_COST cost="{4}{R}{R}" />
  <FLAVOURTEXT>
    <LOCALISED_TEXT LanguageCode="en-US"><![CDATA[“You wish for great destruction? It is done, my master.”]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="fr-FR"><![CDATA[« Vous souhaitez une destruction à grande échelle ? Il en sera fait ainsi, mon maître. »]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="es-ES"><![CDATA[“¿Deseas una gran destrucción? Concedido, mi amo.”]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="de-DE"><![CDATA[„Ihr wünscht Euch große Zerstörung, mein Meister? Aber gerne!“]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="it-IT"><![CDATA[“Desideri un’enorme distruzione? Già fatto, padrone.”]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="jp-JA"><![CDATA[「大々的な破壊をお望みですか？  仰せの通りに、ご主人殿。」]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="ko-KR"><![CDATA[“대규모 파괴를 원하십니까? 분부대로 하겠습니다, 주인님.”]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="ru-RU"><![CDATA[«Ты желаешь великих разрушений? Твоя воля исполнена, мой господин».]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="pt-BR"><![CDATA[“Seu desejo é a destruição total? Seu desejo é uma ordem, mestre.”]]></LOCALISED_TEXT>
  </FLAVOURTEXT>
  <TYPE metaname="Creature" />
  <SUB_TYPE metaname="Efreet" order_de-DE="0" order_es-ES="0" order_fr-FR="0" order_it-IT="0" order_jp-JA="0" order_ko-KR="0" order_pt-BR="0" order_ru-RU="0" />
  <EXPANSION value="DPG" />
  <RARITY metaname="R" />
  <POWER value="6" />
  <TOUGHNESS value="4" />
  <TRIGGERED_ABILITY dangerous="1" filter_zone="ZONE_IN_PLAY">
    <LOCALISED_TEXT LanguageCode="en-US"><![CDATA[At the beginning of your upkeep, choose target nonland permanent you control and up to two target nonland permanents you don’t control. Destroy one of them at random.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="fr-FR"><![CDATA[Au début de votre entretien, choisissez un permanent non-terrain ciblé que vous contrôlez et jusqu’à deux permanents non-terrain ciblés que vous ne contrôlez pas. Détruisez l’un d’eux au hasard.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="es-ES"><![CDATA[Al comienzo de tu mantenimiento, elige el permanente objetivo que no sea tierra que controles y hasta dos permanentes objetivos que no sean tierras que no controles. Destruye uno de ellos al azar.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="de-DE"><![CDATA[Bestimme zu Beginn deines Versorgungssegments eine bleibende Karte, die du kontrollierst, und bis zu zwei bleibende Karten, die du nicht kontrollierst. Keine dieser bleibenden Karten darf ein Land sein. Bestimme zufällig eine davon und zerstöre sie.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="it-IT"><![CDATA[All’inizio del tuo mantenimento, scegli un permanente non terra bersaglio che controlli e fino a due permanenti non terra bersaglio che non controlli. Distruggi uno di essi a caso.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="jp-JA"><![CDATA[あなたのアップキープの開始時に、あなたがコントロールする土地でないパーマネント１つを対象とし、あなたがコントロールしていない土地でないパーマネントを最大２つまで対象とする。 それらのうち無作為に選んだ１つを破壊する。]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="ko-KR"><![CDATA[당신의 유지단 시작에, 당신이 조종하는 지속물 중 대지가 아닌 지속물 한 개와 당신이 조종하지 않는 지속물 중 대지가 아닌 지속물을 최대 두 개까지 목표로 정한다. 이들 중 하나를 무작위로 정해서 파괴한다.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="ru-RU"><![CDATA[В начале вашего шага поддержки выберите целевой не являющийся землей перманент под вашим контролем и не более двух целевых не являющихся землями перманентов не под вашим контролем. Уничтожьте один из них, выбранный случайно.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="pt-BR"><![CDATA[No início de sua manutenção, escolha uma permanente alvo que não seja terreno sob seu controle e até duas permanentes alvo que não sejam terrenos que não estejam sob seu controle. Destrua uma delas aleatoriamente.]]></LOCALISED_TEXT>
    <TRIGGER value="BEGINNING_OF_STEP" simple_qualifier="controller">
    return ( EffectController():MyTurn() ~= 0 ) and ( MTG():GetStep() == STEP_UPKEEP )
    </TRIGGER>
    <TARGET_DEFINITION id="1">
    local filter = Object():GetFilter()
    filter:Clear()
    filter:AddExtra( FILTER_EXTRA_FLIP_CARD_TYPES )
    filter:AddCardType( CARD_TYPE_LAND )
    filter:SetHint( HINT_ENEMY, EffectController() )
    filter:SetPlayer(EffectController())
    filter:SetZone( ZONE_IN_PLAY )
    </TARGET_DEFINITION>
    <TARGET_DEFINITION id="0">
    local filter = Object():GetFilter()
    filter:Clear()
    filter:AddExtra( FILTER_EXTRA_FLIP_CARD_TYPES )
    filter:AddCardType( CARD_TYPE_LAND )
    filter:SetHint( HINT_ENEMY_ONLY, EffectController() )
    filter:SetZone( ZONE_IN_PLAY )
    filter:SetPlayer(EffectController())
    filter:AddExtra( FILTER_EXTRA_FLIP_PLAYER )
    </TARGET_DEFINITION>
    <TARGET_DETERMINATION>
    return AtLeastOneTargetFromDefinition(1)
    </TARGET_DETERMINATION>
    <PLAY_TIME_ACTION target_choosing="1">
    EffectController():ChooseTarget( 1, "CARD_QUERY_CHOOSE_NONLAND_PERMANENT", EffectDC():Make_Targets(0) )
    </PLAY_TIME_ACTION>
    <PLAY_TIME_ACTION target_choosing="1">
    EffectController():SetTargetCount( 2 )
    for i=0,2-1 do
    	EffectController():SetTargetPrompt( i, "CARD_QUERY_CHOOSE_NONLAND_PERMANENT" )
    end
    EffectController():ChooseTargetsWithFlags( 0, EffectDC():Make_Targets(1), QUERY_FLAG_CAN_BE_FINISHED_EARLY )
    </PLAY_TIME_ACTION>
    <RESOLUTION_TIME_ACTION>
    local target_one = EffectDC():Get_Targets(0):Get_CardPtr(0)
    local target_two = EffectDC():Get_Targets(1):Get_CardPtr(0)
    local target_three = EffectDC():Get_Targets(1):Get_CardPtr(1)
    local count = 0
    if target_one ~= nil then
      count = count + 1
    end
    if target_two ~= nil then
      count = count + 1
    end
    if target_three ~= nil then
      count = count + 1
    end
    if count &gt; 0 then
    	local random = MTG():RandomNumberBetween(1,count)
    	if target_one ~= nil then
    	  random = random - 1
    	  if random == 0 then
    		target_one:Destroy()
    		return
    	  end
    	end
    	
    	if target_two ~= nil then
    	  random = random - 1
    	  if random == 0 then
    		target_two:Destroy()
    		return
    	  end
    	end
    	
    	if target_three ~= nil then
    	  random = random - 1
    	  if random == 0 then
    		target_three:Destroy()
    		return
    	  end
    	end
    end
    </RESOLUTION_TIME_ACTION>
    <SFX text="TARGET_FLAME_PLAY" />
  </TRIGGERED_ABILITY>
  <SFX text="COMBAT_FLAME_LARGE_ATTACK" power_boundary_min="4" power_boundary_max="-1" />
  <SFX text="COMBAT_FLAME_SMALL_ATTACK" power_boundary_min="1" power_boundary_max="3" />
  <AI_BASE_SCORE score="450" zone="ZONE_IN_PLAY" />
</CARD_V2>