<?xml version='1.0'?>
<CARD_V2>
  <FILENAME text="JESTERS_CAP_280071" />
  <CARDNAME text="JESTERS_CAP" />
  <TITLE>
    <LOCALISED_TEXT LanguageCode="en-US"><![CDATA[Jester’s Cap]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="fr-FR"><![CDATA[Bonnet du bouffon]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="es-ES"><![CDATA[Gorro de bufón]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="de-DE"><![CDATA[Narrenkappe]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="it-IT"><![CDATA[Cappello del Giullare]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="jp-JA"><![CDATA[道化の帽子]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="ko-KR"><![CDATA[제스터의 모자]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="ru-RU"><![CDATA[Шутовской Колпак]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="pt-BR"><![CDATA[Gorro do Bufão]]></LOCALISED_TEXT>
  </TITLE>
  <MULTIVERSEID value="280071" />
  <ARTID value="86955" />
  <ARTIST name="D. Alexander Gregory" />
  <CASTING_COST cost="{4}" />
  <FLAVOURTEXT>
    <LOCALISED_TEXT LanguageCode="en-US"><![CDATA[“Know your foes’ strengths as well as their weaknesses.”
—Arcum Dagsson, Soldevi machinist]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="fr-FR"><![CDATA[« Connais aussi bien les forces de tes ennemis que leurs faiblesses. »
—Arcum Dagsson, machiniste soldevi]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="es-ES"><![CDATA[“Conoce las fortalezas de tus enemigos así como sus debilidades.”
—Arcum Dagsson, mecánico soldevi]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="de-DE"><![CDATA[„Kenne die Stärken deines Feindes so gut wie seine Schwächen.“
—Arcum Dagsson, Soldevi-Maschinist]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="it-IT"><![CDATA[“Devi conoscere i punti di forza dei tuoi nemici così come le loro debolezze.”
—Arcum Dagsson, macchinista di Soldevi]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="jp-JA"><![CDATA[敵の弱みだけでなく、強みも調べることだ。
—ソルデヴィの機械魔術師、アーカム・ダグスン]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="ko-KR"><![CDATA[“적의 약점뿐만 아니라 강점까지 파악해야 한다.”
—솔데비 기계공 아컴 대그슨]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="ru-RU"><![CDATA[«Изучайте и сильные стороны противника, и слабые его стороны».
— Аркум Дагссон, сольдевский машинист]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="pt-BR"><![CDATA[“Conhece tanto os pontos fortes, como as fraquezas dos teus oponentes.”
— Arcum Dagsson, maquinista Soldeviano]]></LOCALISED_TEXT>
  </FLAVOURTEXT>
  <TYPE metaname="Artifact" />
  <EXPANSION value="DPG" />
  <RARITY metaname="R" />
  <ACTIVATED_ABILITY>
    <LOCALISED_TEXT LanguageCode="en-US"><![CDATA[{2}, {T}, Sacrifice Jester’s Cap: Search target player’s library for three cards and exile them. Then that player shuffles his or her library.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="fr-FR"><![CDATA[{2}, {T}, sacrifiez le Bonnet du bouffon: Cherchez trois cartes dans la bibliothèque du joueur ciblé et exilez-les. Ce joueur mélange ensuite sa bibliothèque.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="es-ES"><![CDATA[{2}, {T}, sacrificar el Gorro de bufón: Busca en la biblioteca del jugador objetivo tres cartas y exílialas. Luego ese jugador baraja su biblioteca.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="de-DE"><![CDATA[{2}, {T}, opfere die Narrenkappe: Durchsuche die Bibliothek eines Spielers deiner Wahl nach drei Karten und schicke sie ins Exil. Dieser Spieler mischt dann seine Bibliothek.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="it-IT"><![CDATA[{2}, {T}, Sacrifica il Cappello del Giullare: Passa in rassegna il grimorio di un giocatore bersaglio per tre carte ed esiliale. Poi quel giocatore rimescola il suo grimorio.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="jp-JA"><![CDATA[{2}, {T}, 道化の帽子を生け贄に捧げる：プレイヤー１人を対象とする。あなたはそのプレイヤーのライブラリーからカードを３枚探し、それらを追放する。 その後、そのプレイヤーは自分のライブラリーを切り直す。]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="ko-KR"><![CDATA[{2}, {T}, 제스터의 모자를 희생한다: 플레이어 한 명을 목표로 정한다. 그 플레이어의 서고에서 카드 세 장을 찾아 추방한다. 그러고 나서 그 플레이어는 자신의 서고를 섞는다.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="ru-RU"><![CDATA[{2}, {T}, пожертвуйте Шутовской Колпак: найдите в библиотеке целевого игрока три карты и изгоните их. Затем тот игрок тасует свою библиотеку.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="pt-BR"><![CDATA[{2}, {T}, Sacrifique Gorro do Bufão: Procure no grimório do jogador alvo por três cards e exile-os. Depois, aquele jogador embaralha seu próprio grimório.]]></LOCALISED_TEXT>
    <COST type="Mana" cost="{2}" />
    <COST type="TapSelf" />
    <COST type="SacrificeSelf" />
    <TARGET_DEFINITION id="0">
    local filter = Object():GetFilter()
    filter:Clear()
    filter:SetFilterType( FILTER_TYPE_PLAYERS )
    filter:SetHint( HINT_ENEMY_ONLY, EffectController() )
    </TARGET_DEFINITION>
    <TARGET_DETERMINATION>
    return AtLeastOneTargetFromDefinition(0)
    </TARGET_DETERMINATION>
    <PLAY_TIME_ACTION target_choosing="1">
    EffectController():ChooseTarget( 0, "CARD_QUERY_CHOOSE_PLAYER_TO_VESTIGE_ROT", EffectDC():Make_Targets(0) )
    </PLAY_TIME_ACTION>
    <RESOLUTION_TIME_ACTION>
    local filter = Object():GetFilter()
    local target_player = EffectDC():Get_Targets(0):Get_PlayerPtr(0)
     
    if target_player ~= nil then
    	EffectController():MarkSearchedLibrary( target_player ) 
    	filter:Clear()
    	filter:SetPlayer( target_player )
    	filter:SetZone( ZONE_LIBRARY )
    	filter:NotTargetted()
    	filter:SetHint( HINT_ENEMY, EffectController() )
    	EffectController():SetTargetCount( 3 )
    	for i=0,2 do
    		EffectController():SetTargetPrompt( i, "CARD_QUERY_CHOOSE_CARD_TO_EXILE" )
    	end
    	EffectController():ChooseTargets( NO_VALIDATION, EffectDC():Make_Targets(1) ) 	
    end		
    </RESOLUTION_TIME_ACTION>
    <RESOLUTION_TIME_ACTION>
    local targets = EffectDC():Get_Targets(1)
    if targets ~= nil then
    	local target_card = targets:Get_CardPtr(0)
    	local i = 1
    	while (target_card ~= nil) do
    		target_card:RemoveFromGame()
    		target_card = targets:Get_CardPtr(i)
    		i=i+1
    	end
    end
    </RESOLUTION_TIME_ACTION>
    <AI_AVAILABILITY step="untap" />
  </ACTIVATED_ABILITY>
</CARD_V2>