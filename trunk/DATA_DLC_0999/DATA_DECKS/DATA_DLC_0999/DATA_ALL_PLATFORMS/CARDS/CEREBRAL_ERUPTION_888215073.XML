<?xml version='1.0'?>
<CARD_V2>
  <FILENAME text="CEREBRAL_ERUPTION_888215073" />
  <CARDNAME text="CEREBRAL_ERUPTION" />
  <TITLE>
     <LOCALISED_TEXT LanguageCode="en-US"><![CDATA[Cerebral Eruption]]></LOCALISED_TEXT>
     <LOCALISED_TEXT LanguageCode="de-DE"><![CDATA[Cerebral Eruption]]></LOCALISED_TEXT>
     <LOCALISED_TEXT LanguageCode="es-ES"><![CDATA[Cerebral Eruption]]></LOCALISED_TEXT>
     <LOCALISED_TEXT LanguageCode="fr-FR"><![CDATA[Cerebral Eruption]]></LOCALISED_TEXT>
     <LOCALISED_TEXT LanguageCode="it-IT"><![CDATA[Cerebral Eruption]]></LOCALISED_TEXT>
     <LOCALISED_TEXT LanguageCode="jp-JA"><![CDATA[Cerebral Eruption]]></LOCALISED_TEXT>
     <LOCALISED_TEXT LanguageCode="ko-KR"><![CDATA[Cerebral Eruption]]></LOCALISED_TEXT>
     <LOCALISED_TEXT LanguageCode="ru-RU"><![CDATA[Cerebral Eruption]]></LOCALISED_TEXT>
     <LOCALISED_TEXT LanguageCode="pt-BR"><![CDATA[Cerebral Eruption]]></LOCALISED_TEXT>
  </TITLE>
  <MULTIVERSEID value="888215073" />
  <ARTID value="888215073" />
  <ARTIST name="Kev Walker" />
  <CASTING_COST cost="{2}{R}{R}" />
  <TYPE metaname="Sorcery" />
  <EXPANSION value="DPG" />
  <RARITY metaname="R" />
  <SPELL_ABILITY filter_zone="ZONE_IN_PLAY">
     <LOCALISED_TEXT LanguageCode="en-US"><![CDATA[Target opponent reveals the top card of his or her library. Cerebral Eruption deals damage equal to the revealed card’s converted mana cost to that player and each creature he or she controls. If a land card is revealed this way, return Cerebral Eruption to its owner’s hand.]]></LOCALISED_TEXT>
     <LOCALISED_TEXT LanguageCode="de-DE"><![CDATA[Target opponent reveals the top card of his or her library. Cerebral Eruption deals damage equal to the revealed card’s converted mana cost to that player and each creature he or she controls. If a land card is revealed this way, return Cerebral Eruption to its owner’s hand.]]></LOCALISED_TEXT>
     <LOCALISED_TEXT LanguageCode="es-ES"><![CDATA[Target opponent reveals the top card of his or her library. Cerebral Eruption deals damage equal to the revealed card’s converted mana cost to that player and each creature he or she controls. If a land card is revealed this way, return Cerebral Eruption to its owner’s hand.]]></LOCALISED_TEXT>
     <LOCALISED_TEXT LanguageCode="fr-FR"><![CDATA[Target opponent reveals the top card of his or her library. Cerebral Eruption deals damage equal to the revealed card’s converted mana cost to that player and each creature he or she controls. If a land card is revealed this way, return Cerebral Eruption to its owner’s hand.]]></LOCALISED_TEXT>
     <LOCALISED_TEXT LanguageCode="it-IT"><![CDATA[Target opponent reveals the top card of his or her library. Cerebral Eruption deals damage equal to the revealed card’s converted mana cost to that player and each creature he or she controls. If a land card is revealed this way, return Cerebral Eruption to its owner’s hand.]]></LOCALISED_TEXT>
     <LOCALISED_TEXT LanguageCode="jp-JA"><![CDATA[Target opponent reveals the top card of his or her library. Cerebral Eruption deals damage equal to the revealed card’s converted mana cost to that player and each creature he or she controls. If a land card is revealed this way, return Cerebral Eruption to its owner’s hand.]]></LOCALISED_TEXT>
     <LOCALISED_TEXT LanguageCode="ko-KR"><![CDATA[Target opponent reveals the top card of his or her library. Cerebral Eruption deals damage equal to the revealed card’s converted mana cost to that player and each creature he or she controls. If a land card is revealed this way, return Cerebral Eruption to its owner’s hand.]]></LOCALISED_TEXT>
     <LOCALISED_TEXT LanguageCode="ru-RU"><![CDATA[Target opponent reveals the top card of his or her library. Cerebral Eruption deals damage equal to the revealed card’s converted mana cost to that player and each creature he or she controls. If a land card is revealed this way, return Cerebral Eruption to its owner’s hand.]]></LOCALISED_TEXT>
     <LOCALISED_TEXT LanguageCode="pt-BR"><![CDATA[Target opponent reveals the top card of his or her library. Cerebral Eruption deals damage equal to the revealed card’s converted mana cost to that player and each creature he or she controls. If a land card is revealed this way, return Cerebral Eruption to its owner’s hand.]]></LOCALISED_TEXT>
    <TARGET_DEFINITION id="0">
    local filter = Object():GetFilter()
    filter:Clear()
    filter:SetFilterType( FILTER_TYPE_PLAYERS + FILTER_TYPE_OPPONENTS)
    filter:SetOwner( EffectController() )
    filter:SetHint( HINT_ENEMY_ONLY, EffectController() )
    </TARGET_DEFINITION>
    <TARGET_DETERMINATION>
    return AtLeastOneTargetFromDefinition(0)
    </TARGET_DETERMINATION>
    <PLAY_TIME_ACTION target_choosing="1">
    EffectController():ChooseTarget( 0, "CARD_QUERY_CHOOSE_PLAYER", EffectDC():Make_Targets(0) )
    </PLAY_TIME_ACTION>
	<RESOLUTION_TIME_ACTION>
    local target_player = EffectDC():Get_Targets(0):Get_PlayerPtr(0)
    if target_player ~= nil then
    	local card = target_player:Library_GetNth(0) 
        if card ~= nil then 
			ObjectDC():Set_Int(0, card:GetConvertedManaCost())
			if card:GetCardType():Test(CARD_TYPE_LAND) ~= 0 then
				Object():SetResolutionZone(ZONE_HAND)
			end
        end
    end
    </RESOLUTION_TIME_ACTION>
  </SPELL_ABILITY>
  <SPELL_ABILITY dangerous="1" filter_zone="ZONE_IN_PLAY_AND_PLAYERS" active_zone="ZONE_IN_PLAY_AND_PLAYERS">
    <FILTER>
	return TargetPlayer() or CreaturesTargetPlayerControls()
    </FILTER>
    <RESOLUTION_TIME_ACTION>
	local damage = ObjectDC():Get_Int(1)
    if (FilteredPlayer() ~= nil) then
    	FilteredPlayer():DealDamage(damage, Object())  
    else FilteredCard():DealDamage(damage, Object())  
    end  
    </RESOLUTION_TIME_ACTION>
    <SFX text="GLOBAL_MAGMA_PLAY" />
  </SPELL_ABILITY>
  <AI_BASE_SCORE score="1200" zone="ZONE_HAND" />
</CARD_V2>
