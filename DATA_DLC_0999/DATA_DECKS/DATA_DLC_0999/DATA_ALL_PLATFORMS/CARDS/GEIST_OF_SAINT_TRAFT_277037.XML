<?xml version='1.0'?>
<CARD_V2>
  <FILENAME text="GEIST_OF_SAINT_TRAFT_277037" />
  <CARDNAME text="GEIST_OF_SAINT_TRAFT" />
  <TITLE>
    <LOCALISED_TEXT LanguageCode="en-US"><![CDATA[Geist of Saint Traft]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="fr-FR"><![CDATA[Geist de Saint Traft]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="es-ES"><![CDATA[Geist de San Traft]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="de-DE"><![CDATA[Geist von Sankt Traft]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="it-IT"><![CDATA[Geist di San Traft]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="jp-JA"><![CDATA[聖トラフトの霊]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="ko-KR"><![CDATA[성 트라프트의 심령]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="ru-RU"><![CDATA[Привидение Святого Трафта]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="pt-BR"><![CDATA[Geist de Santo Traft]]></LOCALISED_TEXT>
  </TITLE>
  <MULTIVERSEID value="277037" />
  <ARTID value="139449" />
  <ARTIST name="Igor Kieryluk" />
  <CASTING_COST cost="{1}{W}{U}" />
  <SUPERTYPE metaname="Legendary" />
  <TYPE metaname="Creature" />
  <SUB_TYPE metaname="Spirit" order_de-DE="0" order_es-ES="1" order_fr-FR="0" order_it-IT="1" order_jp-JA="0" order_ko-KR="0" order_pt-BR="0" order_ru-RU="0" />
  <SUB_TYPE metaname="Cleric" order_de-DE="1" order_es-ES="0" order_fr-FR="1" order_it-IT="0" order_jp-JA="1" order_ko-KR="1" order_pt-BR="1" order_ru-RU="1" />
  <EXPANSION value="DPG" />
  <RARITY metaname="M" />
  <POWER value="2" />
  <TOUGHNESS value="2" />
  <STATIC_ABILITY filter_zone="ZONE_IN_PLAY">
    <LOCALISED_TEXT LanguageCode="en-US"><![CDATA[Hexproof]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="fr-FR"><![CDATA[Défense talismanique]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="es-ES"><![CDATA[Antimaleficio.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="de-DE"><![CDATA[Fluchsicher]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="it-IT"><![CDATA[Anti-malocchio]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="jp-JA"><![CDATA[呪禁]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="ko-KR"><![CDATA[방호]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="ru-RU"><![CDATA[Порчеустойчивость]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="pt-BR"><![CDATA[Resistência à magia]]></LOCALISED_TEXT>
    <CONTINUOUS_ACTION>
    local characteristics = Object():GetCurrentCharacteristics()
    characteristics:Characteristic_Set( CHARACTERISTIC_HEXPROOF, 1 )
    </CONTINUOUS_ACTION>
  </STATIC_ABILITY>
  <TRIGGERED_ABILITY auto_skip="1">
    <LOCALISED_TEXT LanguageCode="en-US"><![CDATA[Whenever Geist of Saint Traft attacks, put a 4/4 white Angel creature token with flying onto the battlefield tapped and attacking. Exile that token at end of combat.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="fr-FR"><![CDATA[À chaque fois que le Geist de Saint Traft attaque, mettez sur le champ de bataille un jeton de créature 4/4 blanche Ange avec le vol, engagé et attaquant. Exilez ce jeton à la fin du combat.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="es-ES"><![CDATA[Siempre que el Geist de San Traft ataque, pon en el campo de batalla una ficha de criatura Ángel blanco 4/4 con la habilidad de volar, girado y atacando. Exilia esa ficha al final del combate.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="de-DE"><![CDATA[Immer wenn der Geist von Sankt Traft angreift, bringe einen 4/4 weißen Engel-Kreaturenspielstein mit Flugfähigkeit getappt und angreifend ins Spiel. Schicke den Spielstein am Ende des Kampfes ins Exil.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="it-IT"><![CDATA[Ogniqualvolta il Geist di San Traft attacca, metti sul campo di battaglia una pedina creatura Angelo 4/4 bianca con volare TAPpata e attaccante. Esilia quella pedina alla fine del combattimento.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="jp-JA"><![CDATA[聖トラフトの霊が攻撃するたび、タップ状態で攻撃している飛行を持つ白の４/４の天使・クリーチャー・トークンを１体戦場に出す。 戦闘終了時に、そのトークンを追放する。]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="ko-KR"><![CDATA[성 트라프트의 심령이 공격할 때마다, 비행 능력을 가진 4/4 백색 천사 생물 토큰 한 개를 탭되어서 공격하고 있는 채로 전장에 놓는다. 전투종료에 그 토큰을 추방한다.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="ru-RU"><![CDATA[Каждый раз, когда Привидение Святого Трафта атакует, положите на поле битвы одну фишку существа 4/4 белый Ангел с Полетом повернутой и атакующей. Изгоните ту фишку в конце боя.]]></LOCALISED_TEXT>
    <LOCALISED_TEXT LanguageCode="pt-BR"><![CDATA[Toda vez que Geist de Santo Traft atacar, coloque no campo de batalha uma ficha de criatura branca 4/4 do tipo Anjo com voar virada e atacando. Exile aquela ficha no final do combate.]]></LOCALISED_TEXT>
    <TRIGGER value="ATTACKING" simple_qualifier="self" />
    <TARGET_DEFINITION id="0">
    local filter = Object():GetFilter()
    filter:Clear()
    filter:SetOwner( EffectController() )
    filter:SetFilterType( FILTER_TYPE_PLAYERS + FILTER_TYPE_OPPONENTS)
    filter:SetHint( HINT_ENEMY_ONLY, EffectController() )
    filter:NotTargetted()
    </TARGET_DEFINITION>
    <RESOLUTION_TIME_ACTION>
    EffectController():ChooseTarget( 0, "CARD_QUERY_CHOOSE_PLAYER_TO_ANGEL", EffectDC():Make_Targets(0) )
    </RESOLUTION_TIME_ACTION>
    <RESOLUTION_TIME_ACTION>
    local count = 1
    local delayDC = EffectDC():Make_Chest(1)
    local attacked_player = EffectDC():Get_Targets(0):Get_PlayerPtr(0)
    MTG():PutTokensIntoPlayTappedAndAttacking("TOKEN_ANGEL_4_4_F_GEIST_22", count, EffectController(), attacked_player, delayDC:Make_Chest(0) )
    	
    MTG():CreateDelayedTrigger(2, delayDC)
        
    </RESOLUTION_TIME_ACTION>
  </TRIGGERED_ABILITY>
  <TRIGGERED_ABILITY auto_skip="1" resource_id="2">
    <TRIGGER value="BEGINNING_OF_STEP">
    return ( MTG():GetStep() == STEP_END_OF_COMBAT and TriggerPlayer() == EffectController() )
    </TRIGGER>
    <CLEANUP fire_once="1" />
    <RESOLUTION_TIME_ACTION>
    local i = 0
    local token_chest = EffectDC():Get_Chest(0)
    if token_chest ~= nil then
    	local token = token_chest:Get_NthCardPtr(0)
    			
    	while (token ~= nil) do
    		token:RemoveFromGame()
    		i = i+1
    		token = token_chest:Get_NthCardPtr(i)
    	end
    end
    </RESOLUTION_TIME_ACTION>
  </TRIGGERED_ABILITY>
  <TOKEN_REGISTRATION reservation="1" type="TOKEN_ANGEL_4_4_F_GEIST_22" />
  <HELP title="MORE_INFO_BADGE_TITLE_10" body="MORE_INFO_BADGE_BODY_10" zone="ZONE_ANY" />
  <HELP title="MORE_INFO_BADGE_TITLE_21" body="MORE_INFO_BADGE_BODY_21" zone="ZONE_ANY" />
  <SFX text="COMBAT_BLADE_LARGE_ATTACK" power_boundary_min="4" power_boundary_max="-1" />
  <SFX text="COMBAT_BLADE_SMALL_ATTACK" power_boundary_min="1" power_boundary_max="3" />
  <AI_BASE_SCORE score="900" zone="ZONE_IN_PLAY" />
</CARD_V2>